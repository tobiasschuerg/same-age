<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SameAge</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'timeline/style.css' %}">
</head>
<body>

<nav class="navbar p-3 d-flex justify-content-between align-items-center">
    <span class="navbar-brand mb-0 h1">SameAge</span>
    <div class="d-flex gap-3">
        <a class="nav-link" href="/admin" target="_blank">Admin</a>
        <a class="nav-link" href="/autoimport" target="_blank">Import</a>
    </div>
</nav>

<div class="container-fluid">
    <div class="row sticky-top header-row">
        <div class="col">
            <h2>Age</h2>
        </div>
        {% for person in persons %}
        <div class="col text-center text-capitalize">
            <h2>{{ person.name }}</h2>
        </div>
        {% endfor %}
    </div>

    {% for weeks, group in data.items %}
    <div class="row photo-row">
        <div class="col-1 age-label-col">
            <div class="age-label sticky-top">{{ group.age_string }}</div>
        </div>
        {% for column in group.columns %}
        <div class="col image-gallery">
            {% for image in column %}
            <div class="thumbnail-container">
                <img class="lazy-load"
                     data-src="{% static 'photos/images/'|add:image.file_name %}" alt="{{ image.file_name }}"
                     onmouseover="showImage(this,
                                    '{% static 'photos/images/'|add:image.file_name %}',
                                    '{{image.person.name}}: {{image.capture_date}}')"
                     onmouseout="hideImage(this)">
            </div>
            {% endfor %}
        </div>
        {% endfor %}
    </div>
    {% endfor %}

</div>

<script src="{% static 'timeline/timeline.js' %}"></script>
</body>
</html>
